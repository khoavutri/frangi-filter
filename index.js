!function(a,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.khoadev=t():a.khoadev=t()}(self,(()=>(()=>{var a=new Image;a.crossOrigin="*",a.src="./public/mach1.jpg";function t(a){for(var t=2*Math.round(3*a)+1,r=t,e=Array.from({length:r},(function(){return Array(t).fill(0)})),n=Array.from({length:r},(function(){return Array(t).fill(0)})),o=Array.from({length:r},(function(){return Array(t).fill(0)})),h=Math.round(3*a),i=-h;i<=h;i++)for(var f=-h;f<=h;f++){var M=Math.exp(-(i*i+f*f)/(2*a*a)),d=i+h,g=f+h;e[g][d]=1/(2*Math.PI*Math.pow(a,4))*(i*i/Math.pow(a,2)-1)*M,n[g][d]=1/(2*Math.PI*Math.pow(a,6))*(i*f)*M,o[g][d]=1/(2*Math.PI*Math.pow(a,4))*(f*f/Math.pow(a,2)-1)*M}return{kernXX:e,kernXY:n,kernYY:o}}function r(a,t){for(var r=a.width,e=a.height,n=new Float32Array(r*e),o=t.length,h=Math.floor(o/2),i=h;i<r-h;i++)for(var f=h;f<e-h;f++){for(var M=0,d=-h;d<=h;d++)for(var g=-h;g<=h;g++){M+=a.data[(f+g)*r+(i+d)]*t[g+h][d+h]}n[f*r+i]=M}return{data:n,width:r,height:e}}return a.onload=function(){var e=document.getElementById("canvas1"),n=document.getElementById("canvas2"),o=document.getElementById("canvas3"),h=e.getContext("2d"),i=n.getContext("2d"),f=o.getContext("2d");h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height);var M=e.width,d=e.height;h.drawImage(a,0,0),i.drawImage(a,0,0);var g=h.getImageData(0,0,e.width,e.height),w=function(a){for(var t=a.data,r=0;r<t.length;r+=4){var e=.299*t[r]+.587*t[r+1]+.114*t[r+2];t[r]=t[r+1]=t[r+2]=e}return a}(g),v=function(a,t){for(var r=a.width,e=a.height,n=new Uint8ClampedArray(a.data.length),o=t.length,h=Math.floor(o/2),i=0;i<e;i++)for(var f=0;f<r;f++){for(var M=0,d=0,g=0,w=-h;w<=h;w++)for(var v=-h;v<=h;v++){var p=Math.min(Math.max(f+v,0),r-1),l=Math.min(Math.max(i+w,0),e-1),u=t[w+h][v+h],m=4*(l*r+p);M+=a.data[m]*u,d+=a.data[m+1]*u,g+=a.data[m+2]*u}var c=4*(i*r+f);n[c]=M,n[c+1]=d,n[c+2]=g,n[c+3]=255}return new ImageData(n,r,e)}(w,function(a){for(var t=a/3,r=[],e=Math.floor(a/2),n=0,o=0;o<a;o++){r[o]=[];for(var h=0;h<a;h++){var i=h-e,f=o-e,M=-(i*i+f*f)/(2*t*t),d=1/(2*Math.PI*t*t)*Math.exp(M);r[o][h]=d,n+=d}}for(o=0;o<a;o++)for(h=0;h<a;h++)r[o][h]/=n;return r}(3)),p=function(a,t,r){for(var e=new Uint8Array(t*r),n=0;n<r;n++)for(var o=0;o<t;o++)e[n*t+o]=(a[4*(n*t+o)]+a[4*(n*t+o)+1]+a[4*(n*t+o)+2])/3;return e}(v.data,M,d),l=function(a,e,n){void 0===n&&(n={FrangiScaleRange:[1,10],FrangiScaleRatio:1.5,FrangiBetaOne:.5,FrangiBetaTwo:15});for(var o=a.width,h=a.height,i=[],f=n.FrangiScaleRange[0];f<=n.FrangiScaleRange[1];f*=n.FrangiScaleRatio)i.push(f);for(var M=2*Math.pow(n.FrangiBetaOne,2),d=2*Math.pow(n.FrangiBetaTwo,2),g=new Array(i.length),w=new Array(i.length),v=0;v<i.length;v++){for(var p=t(f=i[v]),l=p.kernXX,u=p.kernXY,m=p.kernYY,c=r(a,l),y=r(a,u),s=r(a,m),x=new Float32Array(o*h),I=new Float32Array(o*h),A=0;A<h;A++)for(var F=0;F<o;F++){var k=A*o+F,b=c.data[k]*f*f,X=y.data[k]*f*f,Y=s.data[k]*f*f,B=b+Y,D=Math.sqrt(Math.pow(b-Y,2)+4*Math.pow(X,2)),C=(B+D)/2,P=(B-D)/2,R=Math.abs(C),S=Math.abs(P),j=Math.pow(S/R,2),U=e*(Math.pow(C,2)+Math.pow(P,2)),q=2*X,E=Y-b+D,O=Math.sqrt(Math.pow(q,2)+Math.pow(E,2));O&&(q/=O,E/=O);var T=q;q=-E,E=T;var z=Math.atan2(q,E),G=(Math.exp((0-Math.pow(Math.abs(z)/Math.PI,2))/2),Math.exp(-j/M)*(1-Math.exp(-U/d)));x[k]=G,I[k]=z}g[v]=x,w[v]=I}var H=new Float32Array(o*h),J=new Float32Array(o*h);for(A=0;A<h;A++)for(F=0;F<o;F++){var K=-1/0,L=-1;for(v=0;v<i.length;v++){var N=g[v][A*o+F];N>K&&(K=N,L=v)}H[A*o+F]=K,J[A*o+F]=i[L]}var Q=new Float32Array(o*h);for(v=0;v<i.length;v++){var V=w[v];for(A=0;A<h;A++)for(F=0;F<o;F++)J[A*o+F]===i[v]&&(Q[A*o+F]=V[A*o+F])}var W=new Uint8ClampedArray(o*h*4);for(A=0;A<h;A++)for(F=0;F<o;F++){v=A*o+F;var Z=Math.max(0,Math.min(255,255*H[v]));W[4*v]=Z,W[4*v+1]=Z,W[4*v+2]=Z,W[4*v+3]=255}return new ImageData(W,o,h)}({data:p,width:M,height:d},5),u=function(a,e,n,o,h){void 0===n&&(n=[1,1.1,1.25,1.5,1.75,2,2.5,3]);void 0===o&&(o=.5);void 0===h&&(h=15);for(var i=a.width,f=a.height,M=new Uint8ClampedArray(i*f*4),d=0,g=n;d<g.length;d++)for(var w=g[d],v=t(w),p=v.kernXX,l=v.kernXY,u=v.kernYY,m=r(a,p),c=r(a,l),y=r(a,u),s=0;s<f;s++)for(var x=0;x<i;x++){var I=s*i+x,A=m.data[I]*w*w,F=c.data[I]*w*w,k=y.data[I]*w*w,b=A+k,X=Math.sqrt(Math.pow(A-k,2)+4*Math.pow(F,2)),Y=(b+X)/2,B=(b-X)/2,D=Math.abs(Y),C=Math.abs(B)/D,P=(Math.pow(Y,2)+Math.pow(B,2))*e,R=-F,S=A-k+X,j=Math.atan2(R,S),U=4*I,q=255*(Math.exp(0-Math.pow(C,2)/(2*Math.pow(o,2)))*(1-Math.exp(-P/(2*Math.pow(h,2))))*Math.exp((0-Math.pow(Math.abs(j)/Math.PI,2))/2));M[U]=Math.max(q,M[U]),M[U+1]=Math.max(q,M[U+1]),M[U+2]=Math.max(q,M[U+2]),M[U+3]=255}return new ImageData(M,i,f)}({data:p,width:M,height:d},5);h.putImageData(l,0,0),f.putImageData(u,0,0),i.putImageData(g,0,0)},{}})()));
//# sourceMappingURL=khoadev.min.js.map